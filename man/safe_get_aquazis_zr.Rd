% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{safe_get_aquazis_zr}
\alias{safe_get_aquazis_zr}
\title{Safely fetch AQUAZIS time series data}
\usage{
safe_get_aquazis_zr(hub, zrid, begin, end)
}
\arguments{
\item{hub}{Character. Base URL of the AQUAZIS hub.}

\item{zrid}{Character or numeric. ZR ID of the time series to fetch.}

\item{begin}{POSIXct, Date, or character. Start datetime for the query period.}

\item{end}{POSIXct, Date, or character. End datetime for the query period.}
}
\value{
A list with three elements:
\describe{
\item{status_code}{Integer. HTTP-like status code: 200 = success, 429 = rate limited, 500 = other error.}
\item{data}{The result from \code{get_aquazis_zr()} if successful, otherwise NULL.}
\item{error}{Character string with the error message if the request failed, otherwise NULL.}
}
}
\description{
This function wraps \code{get_aquazis_zr()} with \code{tryCatch()} to handle potential errors
when querying the AQUAZIS API. It returns a structured list with status codes and error messages.
}
\examples{
\dontrun{
safe_result <- safe_get_aquazis_zr(
  hub = "http://example-hub",
  zrid = "12345",
  begin = "2025-01-01 00:00:00",
  end = "2025-01-31 23:59:59"
)
if (safe_result$status_code == 200) {
  print(safe_result$data)
} else {
  message("Error: ", safe_result$error)
}
}

}
